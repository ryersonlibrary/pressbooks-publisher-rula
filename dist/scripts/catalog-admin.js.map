{"version":3,"sources":["../assets/scripts/catalog-admin.js"],"names":["$","document","ready","on","this","parent","fadeOut","remove","book_id","siblings","children","val","in_catalog","prop","ajax","url","ajaxurl","type","data","action","_ajax_nonce","PB_Publisher_Admin","publisherAdminNonce","success","length","html","catalog_updated","dismiss_notice","hide","insertAfter","fadeIn","error","jqXHR","textStatus","errorThrown","catalog_not_updated","jQuery"],"mappings":"CAIA,SAAAA,GACAA,EAAAC,UAAAC,MAAA,WACAF,EAAA,SAAAG,GAAA,QAAA,kBAAA,WACAH,EAAAI,MAAAC,OAAA,YAAAC,QAAA,IAAA,WACAN,EAAAI,MAAAG,aAGAP,EAAA,oBAAAG,GAAA,SAAA,WACA,GAAAK,GAAAR,EAAAI,MAAAC,OAAA,MAAAI,SAAA,MAAAC,SAAA,SAAAC,MACAC,EAAAZ,EAAAI,MAAAS,KAAA,UACAb,GAAAc,MACAC,IAAAC,QACAC,KAAA,OACAC,MACAC,OAAA,sCACAX,QAAAA,EACAI,WAAAA,EACAQ,YAAAC,mBAAAC,qBAEAC,QAAA,WACAvB,EAAA,YAAAwB,OAAA,EACAxB,EAAA,4DAAAyB,KAAA,cAAAJ,mBAAAK,gBAAA,8FAAAL,mBAAAM,eAAA,oBAAAC,OAAAC,YAAA,YAAAC,OAAA,KAEA9B,EAAA,YAAAM,QAAA,IAAA,WACAN,EAAAI,MAAAG,SACAP,EAAA,4DAAAyB,KAAA,cAAAJ,mBAAAK,gBAAA,8FAAAL,mBAAAM,eAAA,oBAAAC,OAAAC,YAAA,YAAAC,OAAA,QAKAC,MAAA,SAAAC,EAAAC,EAAAC,GACAlC,EAAA,YAAAwB,OAAA,EACAxB,EAAA,0DAAAyB,KAAA,cAAAJ,mBAAAc,oBAAA,8FAAAd,mBAAAM,eAAA,oBAAAC,OAAAC,YAAA,YAAAC,OAAA,KAEA9B,EAAA,YAAAM,QAAA,IAAA,WACAN,EAAAI,MAAAG,SACAP,EAAA,0DAAAyB,KAAA,cAAAJ,mBAAAc,oBAAA,8FAAAd,mBAAAM,eAAA,oBAAAC,OAAAC,YAAA,YAAAC,OAAA,eAOAM","file":"catalog-admin.js","sourcesContent":["/**\n * catalog-admin.js\n */\n \n(function($) {\n\t$(document).ready(function() {\n\t\t$('.wrap').on('click', '.notice-dismiss', function() {\n\t\t\t$(this).parent('#message').fadeOut( 500, function() {\n\t\t\t\t$(this).remove();\n\t\t\t});\n\t\t});\n\t\t$('input.in-catalog').on('change', function() {\n\t\t\tvar book_id = $(this).parent('td').siblings('th').children('input').val();\n\t\t\tvar in_catalog = $(this).prop('checked');\n\t\t\t$.ajax({\n\t\t\t\turl: ajaxurl,\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: {\n\t\t\t\t\taction: 'pressbooks_publisher_update_catalog',\n\t\t\t\t\tbook_id: book_id,\n\t\t\t\t\tin_catalog: in_catalog,\n\t\t\t\t\t_ajax_nonce: PB_Publisher_Admin.publisherAdminNonce\n\t\t\t\t},\n\t\t\t\tsuccess: function(){\n\t\t\t\t\tif ( $('#message').length < 1 ) {\n\t\t\t\t\t\t$('<div id=\"message\" class=\"updated notice is-dismissible\">').html('<p><strong>'+PB_Publisher_Admin.catalog_updated+'</strong></p><button type=\"button\" class=\"notice-dismiss\"><span class=\"screen-reader-text\">'+PB_Publisher_Admin.dismiss_notice+'</span></button>').hide().insertAfter('.wrap h1').fadeIn( 500 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#message').fadeOut( 500, function() {\n\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t$('<div id=\"message\" class=\"updated notice is-dismissible\">').html('<p><strong>'+PB_Publisher_Admin.catalog_updated+'</strong></p><button type=\"button\" class=\"notice-dismiss\"><span class=\"screen-reader-text\">'+PB_Publisher_Admin.dismiss_notice+'</span></button>').hide().insertAfter('.wrap h1').fadeIn( 500 );\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n                },\n\t\t\t\terror: function(jqXHR, textStatus, errorThrown) {\n\t\t\t\t\tif ( $('#message').length < 1 ) {\n\t\t\t\t\t\t$('<div id=\"message\" class=\"error notice is-dismissible\">').html('<p><strong>'+PB_Publisher_Admin.catalog_not_updated+'</strong></p><button type=\"button\" class=\"notice-dismiss\"><span class=\"screen-reader-text\">'+PB_Publisher_Admin.dismiss_notice+'</span></button>').hide().insertAfter('.wrap h1').fadeIn( 500 );\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$('#message').fadeOut( 500, function() {\n\t\t\t\t\t\t\t$(this).remove();\n\t\t\t\t\t\t\t$('<div id=\"message\" class=\"error notice is-dismissible\">').html('<p><strong>'+PB_Publisher_Admin.catalog_not_updated+'</strong></p><button type=\"button\" class=\"notice-dismiss\"><span class=\"screen-reader-text\">'+PB_Publisher_Admin.dismiss_notice+'</span></button>').hide().insertAfter('.wrap h1').fadeIn( 500 );\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n                }\n\t\t\t});\n\t\t});\n\t});\n}) (jQuery);\n"],"sourceRoot":"assets/scripts/"}